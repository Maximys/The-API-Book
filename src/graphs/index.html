<!DOCTYPE html>
<html>
    <head>
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.4.4/joint.css"
        />
        <link rel="stylesheet" type="text/css" href="../css/graph.css" />
    </head>
    <body>
        <!-- content -->
        <div id="content"></div>

        <!-- dependencies -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.0/backbone.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.4.4/joint.js"></script>

        <!-- code -->
        <script type="text/javascript" src="l10n.js"></script>
        <script type="text/javascript" src="lib/lib.js"></script>
        <script type="text/javascript">
            const params = document.location.href
                .split('?', 2)[1]
                .split('&')
                .reduce((params, str) => {
                    const [key, value] = str.split('=');
                    params[key] = decodeURIComponent(value);
                    return params;
                }, {});

            document.write(
                `<script type="text/javascript" src="${params.graph}.js">\<\/script>`
            );
            window.onload = () => render(lib, l10n[params.lang]);
        </script>
    </body>
</html>
